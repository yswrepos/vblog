import{_ as e,o as l,c as a,e as s}from"./app-ATJF5j0V.js";const i={},n=s(`<p>在 macOS 上，外部硬盘通常只有在用户登录并进入桌面后才自动挂载。为了实现在启动时即使没有用户登录也能挂载外部硬盘，你需要进行一些额外的配置。请注意，这些方法可能需要对系统级的设置进行更改，因此需要谨慎操作。</p><h3 id="方法-1-使用-fstab-文件" tabindex="-1"><a class="header-anchor" href="#方法-1-使用-fstab-文件"><span>方法 1：使用 <code>fstab</code> 文件</span></a></h3><ol><li><strong>识别硬盘</strong>： <ul><li><p>首先，你需要找出外置硬盘的唯一标识符。可以通过 <code>diskutil</code> 命令来实现：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>diskutil info /Volumes/YourVolumeName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查找 “Volume UUID” 字段。</p></li></ul></li></ol><ol start="2"><li><p><strong>编辑 <code>fstab</code> 文件</strong>：</p><ul><li><p>使用 <code>sudo vifs</code> 命令来安全地编辑 <code>/etc/fstab</code> 文件。这是一个系统级文件，用于控制磁盘挂载。</p></li><li><p>添加一行如下格式的内容：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>UUID=硬盘的UUID none ntfs rw,auto,nobrowse
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中，替换 <code>硬盘的UUID</code> 为你之前找到的 UUID，如果硬盘不是 NTFS 格式，请相应更改 <code>ntfs</code>。</p></li></ul></li><li><p><strong>挂载硬盘</strong>：</p><ul><li>使用 <code>diskutil mount</code> 命令挂载硬盘。由于添加了 <code>nobrowse</code> 选项，硬盘不会在 Finder 中显示，但可以在 <code>/Volumes</code> 目录下访问。</li></ul></li></ol><h3 id="方法-2-创建启动脚本" tabindex="-1"><a class="header-anchor" href="#方法-2-创建启动脚本"><span>方法 2：创建启动脚本</span></a></h3><ol><li><p><strong>创建脚本</strong>：</p><ul><li>编写一个脚本，使用 <code>diskutil</code> 命令来挂载硬盘。</li><li>将脚本保存在某个位置，例如 <code>/usr/local/bin/mount_external.sh</code>。</li></ul></li><li><p><strong>设置脚本权限</strong>：</p><ul><li><p>使用 <code>chmod</code> 命令给予脚本执行权限：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/mount_external.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p><strong>配置启动项</strong>：</p><ul><li>创建一个 <code>.plist</code> 文件，用于在启动时运行脚本。</li><li>将 <code>.plist</code> 文件放置在 <code>/Library/LaunchDaemons/</code> 目录下。</li></ul></li><li><p><strong>启动服务</strong>：</p><ul><li><p>使用 <code>launchctl</code> 加载并启动服务：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> launchctl load /Library/LaunchDaemons/your.plist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ol><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><ul><li>这些操作涉及到系统级的更改，可能会影响系统的稳定性和安全性。</li><li>在进行更改前，请确保完全理解每个步骤的意义，并备份重要数据。</li><li>如果你不熟悉命令行操作或系统配置，建议在专业人士的指导下进行。</li></ul><p>以上方法可以实现在 macOS 启动时自动挂载外部硬盘，即使没有用户登录。但请注意，由于这些操作涉及较高权限的系统更改，所以建议在充分了解其风险和细节后再行操作。</p>`,9),o=[n];function t(d,c){return l(),a("div",null,o)}const u=e(i,[["render",t],["__file","mac挂载额外盘符.html.vue"]]),p=JSON.parse('{"path":"/posts/mac/mac%E6%8C%82%E8%BD%BD%E9%A2%9D%E5%A4%96%E7%9B%98%E7%AC%A6.html","title":"mac挂载额外盘符","lang":"zh-CN","frontmatter":{"title":"mac挂载额外盘符","date":"2024-01-24T20:00:01.000Z","tags":["mac"],"categories":["mac"]},"headers":[{"level":3,"title":"方法 1：使用 fstab 文件","slug":"方法-1-使用-fstab-文件","link":"#方法-1-使用-fstab-文件","children":[]},{"level":3,"title":"方法 2：创建启动脚本","slug":"方法-2-创建启动脚本","link":"#方法-2-创建启动脚本","children":[]},{"level":3,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}],"git":{"updatedTime":1712251162000,"contributors":[{"name":"yushen","email":"85443289+yushenw@users.noreply.github.com","commits":1}]},"filePathRelative":"posts/mac/mac挂载额外盘符.md","excerpt":"<p>在 macOS 上，外部硬盘通常只有在用户登录并进入桌面后才自动挂载。为了实现在启动时即使没有用户登录也能挂载外部硬盘，你需要进行一些额外的配置。请注意，这些方法可能需要对系统级的设置进行更改，因此需要谨慎操作。</p>\\n<h3>方法 1：使用 <code>fstab</code> 文件</h3>\\n<ol>\\n<li><strong>识别硬盘</strong>：\\n<ul>\\n<li>\\n<p>首先，你需要找出外置硬盘的唯一标识符。可以通过 <code>diskutil</code> 命令来实现：</p>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code>diskutil info /Volumes/YourVolumeName\\n</code></pre></div><p>查找 “Volume UUID” 字段。</p>\\n</li>\\n</ul>\\n</li>\\n</ol>\\n"}');export{u as comp,p as data};
